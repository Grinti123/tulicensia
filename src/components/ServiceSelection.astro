<section class="py-16 bg-white">
  <div class="container mx-auto px-4 max-w-5xl">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold text-green-700 mb-2">¿Estás Listo?</h2>
      <p class="text-gray-600">Selecciona el servicio que necesitas:</p>
    </div>

    <!-- Service Selection Buttons -->
    <div class="flex flex-col md:flex-row justify-center gap-16 md:gap-32 mb-16" id="service-buttons">
      <!-- Trámites de personas option -->
      <div class="flex flex-col items-center relative">
        <!-- Person animation -->
        <div class="w-56 h-56 mb-8 flex items-center justify-center">
          <dotlottie-player
            src="/json/chicolentes.json"
            background="transparent"
            speed="1"
            style="width: 200px; height: 200px; margin-bottom: -20px;"
            loop
            autoplay
          ></dotlottie-player>
        </div>

        <!-- Button -->
        <button
          id="btn-personas"
          class="py-3 px-8 border-2 border-green-700 text-green-700 font-medium rounded-full hover:bg-green-50 transition-colors"
        >
          Trámites de personas
        </button>
      </div>

      <!-- Trámites de vehículos option -->
      <div class="flex flex-col items-center relative">
        <!-- Car animation -->
        <div class="w-56 h-56 mb-8 flex items-center justify-center">
          <dotlottie-player
            src="/json/carrito.json"
            background="transparent"
            speed="1"
            style="width: 200px; height: 200px; margin-bottom: -20px;"
            loop
            autoplay
          ></dotlottie-player>
        </div>

        <!-- Button -->
        <button
          id="btn-vehiculos"
          class="py-3 px-8 border-2 border-green-700 text-green-700 font-medium rounded-full hover:bg-green-50 transition-colors"
        >
          Trámites de vehículos
        </button>
      </div>
    </div>

    <!-- Service Details Sections -->
    <div id="service-details" class="mt-8">
      <!-- Trámites de personas details -->
      <div id="personas-details" class="hidden opacity-0 transition-opacity duration-500 ease-in-out">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
          <!-- Image and Text Column -->
          <div class="bg-[#f1f1ff] rounded-2xl p-6 flex flex-col">
            <div class="w-48 h-48 mb-4 mx-auto">
              <dotlottie-player
              src="/json/chicolentes.json"
              background="transparent"
              speed="1"
              style="width: 200px; height: 200px; margin-bottom: -20px;"
              loop
              autoplay
            ></dotlottie-player>
            </div>

            <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-3">Trámites de personas</h3>
            <p class="text-gray-600 mb-6">
              Gestionamos tus trámites desde la solicitud hasta la entrega de placas.
            </p>

            <a href="/iniciar-tramite" class="inline-block bg-indigo-600 text-white py-3 px-8 rounded-full font-medium hover:bg-indigo-700 transition-colors text-center w-fit">
              ¡Iniciar ahora!
            </a>
          </div>

          <!-- Form Options Column -->
          <div class="bg-[#f8f8ff] rounded-3xl p-8 relative overflow-hidden">
            <div class="bg-white rounded-2xl p-6 shadow-sm">
              <div class="space-y-6">
                <label class="flex items-center space-x-3 cursor-pointer">
                  <input type="radio" name="tramite-persona" class="form-radio h-5 w-5 text-indigo-600" value="renovacion">
                  <span class="text-gray-700">Renovación de Licencia</span>
                </label>

                <label class="flex items-center space-x-3 cursor-pointer">
                  <input type="radio" name="tramite-persona" class="form-radio h-5 w-5 text-indigo-600" value="duplicado">
                  <span class="text-gray-700">Duplicado de Licencia</span>
                </label>

                <label class="flex items-center space-x-3 cursor-pointer">
                  <input type="radio" name="tramite-persona" class="form-radio h-5 w-5 text-indigo-600" value="reciprocidad">
                  <span class="text-gray-700">Licencia de Reciprocidad</span>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Trámites de vehículos details -->
      <div id="vehiculos-details" class="hidden opacity-0 transition-opacity duration-500 ease-in-out">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
          <!-- Image and Text Column -->
          <div class="bg-[#f1f1ff] rounded-2xl p-6 flex flex-col">
            <div class="w-48 h-48 mb-4 mx-auto">
              <dotlottie-player
            src="/json/carrito.json"
            background="transparent"
            speed="1"
            style="width: 200px; height: 200px; margin-bottom: -20px;"
            loop
            autoplay
          ></dotlottie-player>
            </div>

            <h3 class="text-xl font-semibold text-gray-800 mt-4 mb-3">Trámites de vehículos</h3>
            <p class="text-gray-600 mb-6">
              Gestionamos tus trámites vehiculares con rapidez y eficiencia.
            </p>

            <a href="/iniciar-tramite-vehiculo" class="inline-block bg-indigo-600 text-white py-3 px-8 rounded-full font-medium hover:bg-indigo-700 transition-colors text-center w-fit">
              ¡Iniciar ahora!
            </a>
          </div>

          <!-- Form Options Column -->
          <div class="bg-[#f8f8ff] rounded-3xl p-8 relative overflow-hidden">
            <div class="bg-white rounded-2xl p-6 shadow-sm">
              <div class="space-y-6">
                <label class="flex items-center space-x-3 cursor-pointer">
                  <input type="radio" name="tramite-vehiculo" class="form-radio h-5 w-5 text-indigo-600" value="traspaso">
                  <span class="text-gray-700">Traspaso de Vehículo</span>
                </label>

                <label class="flex items-center space-x-3 cursor-pointer">
                  <input type="radio" name="tramite-vehiculo" class="form-radio h-5 w-5 text-indigo-600" value="renovacion-marbete">
                  <span class="text-gray-700">Renovación de Marbete</span>
                </label>

                <label class="flex items-center space-x-3 cursor-pointer">
                  <input type="radio" name="tramite-vehiculo" class="form-radio h-5 w-5 text-indigo-600" value="multas">
                  <span class="text-gray-700">Pago de Multas</span>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script is:inline>
  document.addEventListener('DOMContentLoaded', function() {
    // Get the buttons and detail sections
    const btnPersonas = document.getElementById('btn-personas');
    const btnVehiculos = document.getElementById('btn-vehiculos');
    const personasDetails = document.getElementById('personas-details');
    const vehiculosDetails = document.getElementById('vehiculos-details');

    // Initially no details are shown and buttons are in default state

    // Add click event to personas button
    btnPersonas.addEventListener('click', function() {
      // Check if already active
      if (btnPersonas.classList.contains('bg-green-700')) {
        return;
      }

      // Fade out the currently shown section if any
      if (!personasDetails.classList.contains('hidden')) {
        personasDetails.classList.add('opacity-0');
        setTimeout(() => {
          personasDetails.classList.add('hidden');
        }, 500);
      }

      if (!vehiculosDetails.classList.contains('hidden')) {
        vehiculosDetails.classList.add('opacity-0');
        setTimeout(() => {
          vehiculosDetails.classList.add('hidden');

          // Show personas details with fade-in
          personasDetails.classList.remove('hidden');
          setTimeout(() => {
            personasDetails.classList.remove('opacity-0');
          }, 10);
        }, 500);
      } else {
        // Show personas details with fade-in
        personasDetails.classList.remove('hidden');
        setTimeout(() => {
          personasDetails.classList.remove('opacity-0');
        }, 10);
      }

      // Update button styles
      btnPersonas.classList.remove('border-green-700', 'text-green-700');
      btnPersonas.classList.add('bg-green-700', 'text-white');

      btnVehiculos.classList.add('border-green-700', 'text-green-700');
      btnVehiculos.classList.remove('bg-green-700', 'text-white');
    });

    // Add click event to vehiculos button
    btnVehiculos.addEventListener('click', function() {
      // Check if already active
      if (btnVehiculos.classList.contains('bg-green-700')) {
        return;
      }

      // Fade out the currently shown section if any
      if (!vehiculosDetails.classList.contains('hidden')) {
        vehiculosDetails.classList.add('opacity-0');
        setTimeout(() => {
          vehiculosDetails.classList.add('hidden');
        }, 500);
      }

      if (!personasDetails.classList.contains('hidden')) {
        personasDetails.classList.add('opacity-0');
        setTimeout(() => {
          personasDetails.classList.add('hidden');

          // Show vehiculos details with fade-in
          vehiculosDetails.classList.remove('hidden');
          setTimeout(() => {
            vehiculosDetails.classList.remove('opacity-0');
          }, 10);
        }, 500);
      } else {
        // Show vehiculos details with fade-in
        vehiculosDetails.classList.remove('hidden');
        setTimeout(() => {
          vehiculosDetails.classList.remove('opacity-0');
        }, 10);
      }

      // Update button styles
      btnVehiculos.classList.remove('border-green-700', 'text-green-700');
      btnVehiculos.classList.add('bg-green-700', 'text-white');

      btnPersonas.classList.add('border-green-700', 'text-green-700');
      btnPersonas.classList.remove('bg-green-700', 'text-white');
    });
  });
</script>
